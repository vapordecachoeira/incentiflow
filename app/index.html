<!DOCTYPE html>
<html>
<head>
    <title>Incentiflow DApp</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"
          integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"
            integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n"
            crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"
            integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"
            integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn"
            crossorigin="anonymous"></script>
</head>
<body class="container">
    <div class="row">
        <div class="col-12">
            <h1 style="color: #0275d8">Incentiflow</h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p>&nbsp;</p>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="alert alert-warning alert-dismissible fade show" role="alert" id="status"></div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            &nbsp;
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            <h3>My address</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            <input type="text" class="form-control" id="my_account_address"
                   placeholder="My address" disabled="true">
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <p>&nbsp;</p>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <h3>Register or Watch a device</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            <input type="text" class="form-control" id="device_address"
                   placeholder="Device Address: e.g. 0x16a89Bed4ee71c8E3D8CfA16ED89Cb0350F380Ee">
        </div>
        <div class="col-4" id="td_serial">
            <input type="text" class="form-control" id="serial"
                   placeholder="Serial Number">
        </div>
        <div class="col-2 justify-content-md-center">
            <button type="button" onclick="App.register()" class="btn btn-primary" id="btn_register" style="width:100%;">Register</button>
        </div>
        <div class="col-2">
            <button type="button" onclick="App.watch()" class="btn btn-primary" style="width:100%;">Watch Existing</button>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <p>&nbsp;</p>
        </div>
    </div>

    <div class="row">
        <div class="col-4">
            <h3>Deposit to Sponsorship</h3>
        </div>
        <div class="col-4">
            <h3>Sponsor device</h3>
        </div>
        <div class="col-4">
            <h3>Amount in wei</h3>
        </div>

    </div>
    <div class="row">
        <div class="col-2">
            <input type="text" class="form-control" id="my_deposit"
                   placeholder="Amount in Ether">
        </div>
        <div class="col-2 justify-content-md-center">
            <button type="button" onclick="App.sponsorship_deposit()" class="btn btn-primary" id="btn_sponsor" style="width:100%;">Deposit</button>
        </div>
        <div class="col-4">
            <input type="text" class="form-control" id="my_sponsored_address"
                   placeholder="Address to sponsor">
        </div>
        <div class="col-2 justify-content-md-center">
            <input type="text" class="form-control" id="wei_per_unit"
                   placeholder="Amount of wei per counter unit spent">
        </div>
        <div class="col-2 justify-content-md-center">
            <button type="button" onclick="App.sponsor()" class="btn btn-primary" id="btn_sponsor" style="width:100%;">Sponsor</button>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <p>&nbsp;</p>
        </div>
    </div>

    <div class="row">
        <div class="col-12">
            <h3>Registered Devices</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="table-responsive">

                <table class="table table-striped table-hover" id="devicesTable">
                    <thead>
                    <tr>
                        <th></th>
                        <th>Meter Address</th>
                        <th>Serial</th>
                        <th>Count</th>
                        <th>Balance in Wei</th>
                        <th>Created at</th>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <p>&nbsp;</p>
        </div>
    </div>
    <br>
    <br>
    <div class="row" style="display: true;">
        <div class="col-12">
            <h4>Force update count for self</h4>
        </div>
    </div>
    <div class="row" style="display: true;">
        <div class="col-10">
            <input type="text" class="form-control" id="count"
                   placeholder="New counter">
        </div>
        <div class="col-2">
            <button type="button" onclick="App.updateCount()" class="btn btn-primary" style="width:100%;">Update Counter</button>
        </div>
    </div>


</body>
<script src="https://cdn.rawgit.com/ethereum/web3.js/develop/dist/web3.js"></script>
<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
<script src="app.js"></script>
</html>


